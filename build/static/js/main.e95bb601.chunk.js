(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,a,t){},138:function(e,a,t){},139:function(e,a,t){},167:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(8),o=t.n(i),l=(t(95),t(56)),s=t.n(l),c=t(71),d=t(57),u=(t(97),t(171)),v=t(172),m=t(170),p=t(173),h=(t(98),function(){var e=r.a.createElement(p.a,{style:{fontSize:35},spin:!0});return r.a.createElement("div",{className:"loading-wrapper"},r.a.createElement(m.a,{indicator:e}))}),g=t(74),E=t.n(g),f=(t(137),function(){return r.a.createElement("div",{className:"no-search-wrapper"},r.a.createElement("div",{className:"no-search-image-wrapper"},r.a.createElement("img",{src:E.a})),r.a.createElement("div",{className:"no-search-text"},"No search yet."))}),y=(t(138),function(e){var a=e.locationDetails;return r.a.createElement("div",{className:"card-info"},r.a.createElement("div",{className:"name"},a.name),r.a.createElement("div",{className:"address-distance"},a.formatted_address),r.a.createElement("div",{className:"business-rating"},r.a.createElement("span",{className:"rating"},"Rating:  ",a.rating)))}),N=(t(139),function(e){var a=e.hospitals;return r.a.createElement("div",{className:"item-card-wrapper"},null===a||void 0===a?void 0:a.map((function(e){return r.a.createElement(y,{locationDetails:e})})))});var w=function(){u.a.Search;var e,a=v.a.Option,t=Object(n.useState)(null),i=Object(d.a)(t,2),o=i[0],l=i[1],m=Object(n.useState)(null),p=Object(d.a)(m,2),g=p[0],E=p[1],y=function(){var e=Object(c.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof(null===g||void 0===g?void 0:g.searchQuery)){e.next=22;break}return E({searchQuery:null===g||void 0===g?void 0:g.searchQuery,radius:null===g||void 0===g?void 0:g.radius,latitude:null===g||void 0===g?void 0:g.latitude,longitude:null===g||void 0===g?void 0:g.longitude,error:""}),l({hospitals:null===o||void 0===o?void 0:o.hospitals,error:null===o||void 0===o?void 0:o.error,loading:!0,success:!1}),console.log(o),e.prev=4,e.next=7,fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({querySearch:null===g||void 0===g?void 0:g.searchQuery,geoFence:null===g||void 0===g?void 0:g.radius,latitude:null===g||void 0===g?void 0:g.latitude,longitude:null===g||void 0===g?void 0:g.latitude})});case 7:if((a=e.sent).ok){e.next=10;break}throw new Error("Server error");case 10:return e.next=12,a.json();case 12:t=e.sent,l({hospitals:t.data.results,error:void 0,loading:!1,success:!0}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),l({hospitals:null===o||void 0===o?void 0:o.hospitals,error:e.t0,loading:!1,success:!1});case 20:e.next=23;break;case 22:E({searchQuery:null===g||void 0===g?void 0:g.searchQuery,radius:null===g||void 0===g?void 0:g.radius,latitude:null===g||void 0===g?void 0:g.latitude,longitude:null===g||void 0===g?void 0:g.longitude,error:"Search input is empty"});case 23:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){var a=e.coords.longitude,t=e.coords.latitude;E({searchQuery:null===g||void 0===g?void 0:g.searchQuery,radius:null===g||void 0===g?void 0:g.radius,latitude:t,longitude:a,error:""})},b=function(e){E({searchQuery:null===g||void 0===g?void 0:g.searchQuery,radius:null===g||void 0===g?void 0:g.radius,latitude:null===g||void 0===g?void 0:g.latitude,longitude:null===g||void 0===g?void 0:g.longitude,error:"Permission to get your location denied. Location finder cannot without knowing your location"})};return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition(w,b,{timeout:5e3})}),[]),e=(null===o||void 0===o?void 0:o.success)||(null===o||void 0===o?void 0:o.loading)?o.loading?r.a.createElement(h,null):r.a.createElement(N,{hospitals:o.hospitals}):r.a.createElement(f,null),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("div",{className:"website-name"},"HospitalFinder"),r.a.createElement("div",{className:"text-wrapper"},r.a.createElement("p",{className:"header-main-text"},"Find nearest hospital around you"),r.a.createElement("p",{className:"header-sec-text"},"Emergency situation require quick findings")),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("input",{type:"text",name:"search",id:"search",onChange:function(e){E({searchQuery:e.target.value,radius:null===g||void 0===g?void 0:g.radius,latitude:null===g||void 0===g?void 0:g.latitude,longitude:null===g||void 0===g?void 0:g.longitude,error:null===g||void 0===g?void 0:g.error})},placeholder:"Search hospitals",className:"search-input"}),r.a.createElement("div",{onClick:y,className:"submit"},r.a.createElement("span",{className:"search-button"},"Search"))),(null===g||void 0===g?void 0:g.error)&&r.a.createElement("div",{className:"error"},"Search input is empty"),r.a.createElement(v.a,{style:{width:200},placeholder:"Choose a radius",onChange:function(e){E({searchQuery:null===g||void 0===g?void 0:g.searchQuery,radius:e,latitude:null===g||void 0===g?void 0:g.latitude,longitude:null===g||void 0===g?void 0:g.longitude,error:null===g||void 0===g?void 0:g.error})},className:"select"},r.a.createElement(a,{value:1e4},"10km"),r.a.createElement(a,{value:2e4},"20km"),r.a.createElement(a,{value:3e4},"30km"),r.a.createElement(a,{value:5e4},"50km")))),e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,a,t){e.exports=t.p+"static/media/medical.116d4ad4.svg"},90:function(e,a,t){e.exports=t(167)},95:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){}},[[90,1,2]]]);
//# sourceMappingURL=main.e95bb601.chunk.js.map